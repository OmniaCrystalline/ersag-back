<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ERSAG API Server</title>
  <link rel="icon" type="image/svg+xml" href="/images/laurel-svgrepo-com.svg">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="ERSAG API Server">
  <meta property="og:description" content="Backend API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏">
  <meta property="og:image" content="/images/image.png">
  <meta property="og:image:type" content="/images/image.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ERSAG API Server">
  <meta name="twitter:description" content="Backend API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏">
  <meta name="twitter:image" content="/images/image.png">

  <meta property="og:url" content="https://ersagback.onrender.com">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      padding: 40px;
      margin-top: 50px;
    }

    h1 {
      color: #667eea;
      font-size: 32px;
      margin-bottom: 10px;
      text-align: center;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 16px;
    }

    .status {
      text-align: center;
      padding: 12px;
      background: #4CAF50;
      color: white;
      border-radius: 6px;
      margin-bottom: 30px;
      font-weight: 500;
    }

    .endpoints {
      margin-top: 30px;
    }

    .endpoint-group {
      margin-bottom: 25px;
    }

    .endpoint-group h2 {
      color: #764ba2;
      font-size: 20px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f0f0;
    }

    .endpoint {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }

    .method {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-weight: bold;
      font-size: 12px;
      margin-right: 10px;
      text-transform: uppercase;
    }

    .get {
      background: #4CAF50;
      color: white;
    }

    .post {
      background: #2196F3;
      color: white;
    }

    .patch {
      background: #FF9800;
      color: white;
    }

    .delete {
      background: #f44336;
      color: white;
    }

    .path {
      color: #333;
      font-weight: 500;
    }

    .description {
      color: #666;
      font-size: 14px;
      margin-top: 8px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .link-btn {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 16px;
      background: #667eea;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-size: 13px;
      font-weight: 500;
      transition: background 0.3s;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .link-btn:hover {
      background: #5568d3;
    }

    .link-btn.get {
      background: #4CAF50;
    }

    .link-btn.get:hover {
      background: #45a049;
    }

    .link-btn.post {
      background: #2196F3;
    }

    .link-btn.post:hover {
      background: #0b7dda;
    }

    .link-btn.patch {
      background: #FF9800;
    }

    .link-btn.patch:hover {
      background: #e68900;
    }

    .link-btn.delete {
      background: #f44336;
    }

    .link-btn.delete:hover {
      background: #da190b;
    }

    .test-info {
      font-size: 12px;
      color: #999;
      margin-top: 5px;
      font-style: italic;
    }

    .form-btn {
      display: inline-block;
      margin-top: 10px;
      margin-left: 10px;
      padding: 8px 16px;
      background: #667eea;
      color: white;
      text-decoration: none;
      border: none;
      border-radius: 4px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.3s;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .form-btn:hover {
      background: #5568d3;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      overflow: auto;
    }

    .modal-content {
      background-color: white;
      margin: 50px auto;
      padding: 30px;
      border-radius: 12px;
      max-width: 600px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      position: absolute;
      right: 20px;
      top: 15px;
    }

    .close:hover {
      color: #000;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #333;
      font-weight: 500;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .form-group input[type="file"] {
      padding: 5px;
    }

    .submit-btn {
      background: #4CAF50;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
    }

    .submit-btn:hover {
      background: #45a049;
    }

    .submit-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .message {
      padding: 10px;
      margin-top: 15px;
      border-radius: 4px;
      display: none;
    }

    .message.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .message.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .products-section {
      margin-top: 40px;
      padding-top: 40px;
      border-top: 2px solid #f0f0f0;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .product-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .product-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: #f5f5f5;
    }

    .product-info {
      padding: 15px;
    }

    .product-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .product-price {
      font-size: 18px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 5px;
    }

    .product-type {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      margin-top: 5px;
    }

    .product-type.beauty {
      background: #ffebee;
      color: #c62828;
    }

    .product-type.clean {
      background: #e3f2fd;
      color: #1565c0;
    }

    .product-details {
      font-size: 12px;
      color: #666;
      margin-top: 8px;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: #666;
    }

    .error-message {
      text-align: center;
      padding: 20px;
      background: #f8d7da;
      color: #721c24;
      border-radius: 6px;
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
        margin-top: 20px;
      }

      h1 {
        font-size: 24px;
      }

      .endpoint {
        font-size: 14px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>üöÄ ERSAG API Server</h1>
    <p class="subtitle">Backend API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏</p>


    <div class="status" id="status">
      ‚úÖ –°–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î
    </div>

    <div id="authStatus"
      style="text-align: center; margin-bottom: 20px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
      <div id="authInfo" style="margin-bottom: 10px;">
        <span id="authText">–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó...</span>
      </div>
      <div id="authButtons">
        <a href="/login" id="loginLink"
          style="display: none; padding: 8px 16px; background: #667eea; color: white; text-decoration: none; border-radius: 4px; margin-right: 10px;">üîê
          –£–≤—ñ–π—Ç–∏</a>
        <button id="logoutBtn"
          style="display: none; padding: 8px 16px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">üö™
          –í–∏–π—Ç–∏</button>
      </div>
    </div>

    <div class="endpoints">
      <div class="endpoint-group">
        <h2>üì¶ –¢–æ–≤–∞—Ä–∏ (Products)</h2>

        <div class="endpoint">
          <span class="method get">GET</span>
          <span class="path">/products</span>
          <div class="description">–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤</div>
          <a href="/products" target="_blank" class="link-btn get">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ‚Üí</a>
        </div>

        <div class="endpoint">
          <span class="method post">POST</span>
          <span class="path">/addOne</span>
          <div class="description">–î–æ–¥–∞—Ç–∏ –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä (–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞ Cloudinary)</div>
          <button onclick="openAddForm()" class="form-btn post">–í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–æ—Ä–º—É ‚Üí</button>
          <a href="/add-product.html" target="_blank" class="link-btn post" style="margin-left: 10px;">–û–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
            ‚Üí</a>
        </div>

        <div class="endpoint">
          <span class="method post">POST</span>
          <span class="path">/add</span>
          <div class="description">–î–æ–¥–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ç–æ–≤–∞—Ä—ñ–≤</div>
          <div class="test-info">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman –∞–±–æ curl –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è POST –∑–∞–ø–∏—Ç—ñ–≤</div>
        </div>

        <div class="endpoint">
          <span class="method patch">PATCH</span>
          <span class="path">/editField</span>
          <div class="description">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø–æ–ª–µ —Ç–æ–≤–∞—Ä—É (–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞ Cloudinary)</div>
          <button onclick="openEditForm()" class="form-btn patch">–í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–æ—Ä–º—É ‚Üí</button>
          <a href="/edit-product.html" target="_blank" class="link-btn patch" style="margin-left: 10px;">–û–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
            ‚Üí</a>
        </div>

        <div class="endpoint">
          <span class="method delete">DELETE</span>
          <span class="path">/deleteOne</span>
          <div class="description">–í–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä</div>
          <div class="test-info">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman –∞–±–æ curl –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è DELETE –∑–∞–ø–∏—Ç—ñ–≤</div>
        </div>
      </div>

      <div class="endpoint-group">
        <h2>üõí –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è (Orders)</h2>

        <div class="endpoint">
          <span class="method get">GET</span>
          <span class="path">/order</span>
          <div class="description">–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å</div>
          <a href="/order" target="_blank" class="link-btn get">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ‚Üí</a>
        </div>

        <div class="endpoint">
          <span class="method patch">PATCH</span>
          <span class="path">/restoreFromArchive</span>
          <div class="description">–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –∞—Ä—Ö—ñ–≤—É</div>
          <div class="test-info">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman –∞–±–æ curl –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è PATCH –∑–∞–ø–∏—Ç—ñ–≤</div>
        </div>

        <div class="endpoint">
          <span class="method post">POST</span>
          <span class="path">/order</span>
          <div class="description">–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
          <div class="test-info">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman –∞–±–æ curl –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è POST –∑–∞–ø–∏—Ç—ñ–≤</div>
        </div>

        <div class="endpoint">
          <span class="method get">GET</span>
          <span class="path">/archive</span>
          <div class="description">–û—Ç—Ä–∏–º–∞—Ç–∏ –∞—Ä—Ö—ñ–≤ –∑–∞–º–æ–≤–ª–µ–Ω—å</div>
          <a href="/archive" target="_blank" class="link-btn get">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ‚Üí</a>
        </div>

        <div class="endpoint">
          <span class="method patch">PATCH</span>
          <span class="path">/moveToArchive</span>
          <div class="description">–ü–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ –∞—Ä—Ö—ñ–≤</div>
          <div class="test-info">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Postman –∞–±–æ curl –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è PATCH –∑–∞–ø–∏—Ç—ñ–≤</div>
        </div>
      </div>
    </div>

    <!-- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ -->
    <div style="text-align: center; margin-top: 40px; padding-top: 40px; border-top: 2px solid #f0f0f0;">
      <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
        <a href="/products" class="link-btn get" style="font-size: 16px; padding: 12px 24px;">
          üì¶ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ ‚Üí
        </a>
        <a href="/order" class="link-btn get" style="font-size: 16px; padding: 12px 24px; background: #667eea;">
          üìã –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Üí
        </a>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É -->
  <div id="addModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('addModal')">&times;</span>
      <h2 style="color: #667eea; margin-bottom: 20px;">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä</h2>
      <form id="addForm" enctype="multipart/form-data">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É *</label>
          <input type="text" name="title" required>
        </div>
        <div class="form-group">
          <label>–û–ø–∏—Å *</label>
          <textarea name="describe" required></textarea>
        </div>
        <div class="form-group">
          <label>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è *</label>
          <textarea name="usage" required></textarea>
        </div>
        <div class="form-group">
          <label>–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è *</label>
          <input type="file" name="img" accept="image/*" required>
        </div>
        <div class="form-group">
          <label>–¶—ñ–Ω–∞ *</label>
          <input type="number" name="price" step="0.01" required>
        </div>
        <div class="form-group">
          <label>–¢–∏–ø *</label>
          <select name="type" required>
            <option value="">–í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø</option>
            <option value="beauty">Beauty</option>
            <option value="clean">Clean</option>
          </select>
        </div>
        <div class="form-group">
          <label>–û–±'—î–º *</label>
          <input type="number" name="volume" step="0.01" required>
        </div>
        <div class="form-group">
          <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å *</label>
          <input type="number" name="quantity" value="1" required>
        </div>
        <div class="message" id="addMessage"></div>
        <button type="submit" class="submit-btn">–î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä</button>
      </form>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('editModal')">&times;</span>
      <h2 style="color: #667eea; margin-bottom: 20px;">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä</h2>
      <form id="editForm" enctype="multipart/form-data">
        <div class="form-group">
          <label>ID —Ç–æ–≤–∞—Ä—É *</label>
          <input type="text" name="_id" required placeholder="–í–≤–µ–¥—ñ—Ç—å ID —Ç–æ–≤–∞—Ä—É –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è">
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É</label>
          <input type="text" name="title">
        </div>
        <div class="form-group">
          <label>–û–ø–∏—Å</label>
          <textarea name="describe"></textarea>
        </div>
        <div class="form-group">
          <label>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</label>
          <textarea name="usage"></textarea>
        </div>
        <div class="form-group">
          <label>–ù–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
          <input type="file" name="img" accept="image/*">
        </div>
        <div class="form-group">
          <label>–¶—ñ–Ω–∞</label>
          <input type="number" name="price" step="0.01">
        </div>
        <div class="form-group">
          <label>–¢–∏–ø</label>
          <select name="type">
            <option value="">–ù–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏</option>
            <option value="beauty">Beauty</option>
            <option value="clean">Clean</option>
          </select>
        </div>
        <div class="form-group">
          <label>–û–±'—î–º</label>
          <input type="number" name="volume" step="0.01">
        </div>
        <div class="form-group">
          <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</label>
          <input type="number" name="quantity">
        </div>
        <div class="message" id="editMessage"></div>
        <button type="submit" class="submit-btn">–û–Ω–æ–≤–∏—Ç–∏ —Ç–æ–≤–∞—Ä</button>
      </form>
    </div>
  </div>

  <script>
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
    async function checkAuthStatus() {
      try {
        const response = await fetch('/checkAuth');
        const data = await response.json();

        const authText = document.getElementById('authText');
        const loginLink = document.getElementById('loginLink');
        const logoutBtn = document.getElementById('logoutBtn');

        if (data.isAuthenticated) {
          authText.textContent = `‚úÖ –í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫: ${data.username}`;
          loginLink.style.display = 'none';
          logoutBtn.style.display = 'inline-block';
        } else {
          authText.textContent = '‚ùå –í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ';
          loginLink.style.display = 'inline-block';
          logoutBtn.style.display = 'none';

          // –û—Ç—Ä–∏–º—É—î–º–æ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø—ñ–¥–∫–∞–∑–∫–∏
          try {
            const credsResponse = await fetch('/getCredentials');
            const creds = await credsResponse.json();
            if (creds.username && creds.password) {
              loginLink.title = `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: ${creds.username} | –ü–∞—Ä–æ–ª—å: ${creds.password}`;
            } else {
              loginLink.title = '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: admin | –ü–∞—Ä–æ–ª—å: admin123 (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)';
            }
          } catch (err) {
            loginLink.title = '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: admin | –ü–∞—Ä–æ–ª—å: admin123 (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)';
          }
        }
      } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:', error);
      }
    }

    // –û–±—Ä–æ–±–∫–∞ –≤–∏—Ö–æ–¥—É
    document.getElementById('logoutBtn')?.addEventListener('click', async function () {
      try {
        const response = await fetch('/logout', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        });

        if (response.ok) {
          window.location.reload();
        }
      } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞ –≤–∏—Ö–æ–¥—É:', error);
      }
    });

    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    checkAuthStatus();

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤–µ—Ä–∞
    fetch('/products', {
      headers: {
        'Accept': 'application/json'
      }
    })
      .then(response => {
        if (response.ok) {
          document.getElementById('status').textContent = '‚úÖ –°–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î —Ç–∞ –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏';
        } else {
          document.getElementById('status').textContent = '‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î, –∞–ª–µ —î –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º';
          document.getElementById('status').style.background = '#FF9800';
        }
      })
      .catch(error => {
        document.getElementById('status').textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞';
        document.getElementById('status').style.background = '#f44336';
      });

    // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–¥–∞–ª—å–Ω–∏–º–∏ –≤—ñ–∫–Ω–∞–º–∏
    function openAddForm() {
      document.getElementById('addModal').style.display = 'block';
    }

    function openEditForm() {
      document.getElementById('editModal').style.display = 'block';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
      const form = modalId === 'addModal' ? document.getElementById('addForm') : document.getElementById('editForm');
      form.reset();
      const messageEl = modalId === 'addModal' ? document.getElementById('addMessage') : document.getElementById('editMessage');
      messageEl.style.display = 'none';
      messageEl.className = 'message';
    }

    // –ó–∞–∫—Ä–∏—Ç–∏ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –Ω–∏–º
    window.onclick = function (event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    }

    // –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É
    document.getElementById('addForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const submitBtn = this.querySelector('.submit-btn');
      const messageEl = document.getElementById('addMessage');

      submitBtn.disabled = true;
      submitBtn.textContent = '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...';
      messageEl.style.display = 'none';

      try {
        const response = await fetch('/addOne', {
          method: 'POST',
          body: formData
        });

        const result = await response.json();

        if (response.ok) {
          messageEl.className = 'message success';
          messageEl.textContent = '–¢–æ–≤–∞—Ä —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!';
          messageEl.style.display = 'block';
          this.reset();
          // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
          loadProducts();
          setTimeout(() => closeModal('addModal'), 2000);
        } else {
          messageEl.className = 'message error';
          messageEl.textContent = result.message || '–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É';
          messageEl.style.display = 'block';
        }
      } catch (error) {
        messageEl.className = 'message error';
        messageEl.textContent = '–ü–æ–º–∏–ª–∫–∞: ' + error.message;
        messageEl.style.display = 'block';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '–î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä';
      }
    });

    // –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É
    document.getElementById('editForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const submitBtn = this.querySelector('.submit-btn');
      const messageEl = document.getElementById('editMessage');

      submitBtn.disabled = true;
      submitBtn.textContent = '–û–Ω–æ–≤–ª–µ–Ω–Ω—è...';
      messageEl.style.display = 'none';

      try {
        const response = await fetch('/editField', {
          method: 'PATCH',
          body: formData
        });

        const result = await response.json();

        if (response.ok) {
          messageEl.className = 'message success';
          messageEl.textContent = '–¢–æ–≤–∞—Ä —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!';
          messageEl.style.display = 'block';
          // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
          loadProducts();
          setTimeout(() => closeModal('editModal'), 2000);
        } else {
          messageEl.className = 'message error';
          messageEl.textContent = result.message || '–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É';
          messageEl.style.display = 'block';
        }
      } catch (error) {
        messageEl.className = 'message error';
        messageEl.textContent = '–ü–æ–º–∏–ª–∫–∞: ' + error.message;
        messageEl.style.display = 'block';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '–û–Ω–æ–≤–∏—Ç–∏ —Ç–æ–≤–∞—Ä';
      }
    });

    // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±—Å–æ–ª—é—Ç–Ω–∏—Ö URL –¥–ª—è –ø—Ä–µ–≤'—é –∫–∞—Ä—Ç–∏–Ω–∫–∏
    (function () {
      const baseUrl = window.location.origin;
      const imageUrl = baseUrl + '/images/image.png';
      const pageUrl = baseUrl + window.location.pathname;

      const ogImage = document.getElementById('og-image');
      const ogUrl = document.getElementById('og-url');
      const twitterImage = document.getElementById('twitter-image');

      if (ogImage) ogImage.setAttribute('content', imageUrl);
      if (ogUrl) ogUrl.setAttribute('content', pageUrl);
      if (twitterImage) twitterImage.setAttribute('content', imageUrl);
    })();
  </script>
</body>

</html>